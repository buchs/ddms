<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!--suppress SpellCheckingInspection -->
    <link rel="stylesheet" href="/static_files/css/bootstrap.min.css"
    />
   	<link rel="stylesheet" href="/static_files/js/jstree/theme-default/style.min.css" />


    <style>
      @page {
          margin-right: 5px;
          margin-left: 5px;
      }

      .toggle-green {
        color: green;
        font-weight: bold;
      }

      .toggle-red {
        color: red;
        font-weight: normal;
      }

      #home-section {
        background: url(img/large-client.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        background-attachment: fixed;
        width: 100%;
        height: auto;
        min-height: 600px;
      }
      #home-section .dark-overlay {
        /* position: absolute; */
        background: rgba(0, 0, 0, 0.6);
        top: 0;
        left: 0;
        width: 100%;
        height: auto;
        min-height: 600px;
      }

	 .demo { overflow:auto; border:1px solid silver; min-height:100px; }

    </style>

    <title>DDMS</title>
</head>
<body>

    <div class="mx-1">
      <header>

        <nav class="navbar navbar-expand-sm navbar-light bg-light p-1">
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav mr-auto">

                <li class="my-0 mr-5">
                  <img src="/static_files/img/ddms.png" height="20"/>
                </li>
                <li class="my-0">
                  <button
                    id="browse-list"
                    class="nav-button p-0 btn-sm btn-primary"
                    onclick="showBrowseList()"
                    data-toggle="collapse"
                    data-target=".navbar-collapse.show"
                  >
                      Browse List
                  </button>
                </li>

                <li class="">
                    <span class="my-0 ml-15"> &nbsp; &nbsp; Search Parameters: &nbsp; </span>
                </li>

                <li class="my-0 p-0" onclick="toggle_tree_dir()">
                      <span id="toggle-tree" class="toggle-red"   >Tree</span> /
                      <span id="toggle-dir"  class="toggle-green" >Dir</span>
                     &nbsp;  &nbsp;
                </li>

                <li class="my-0">
                  <span class="ml-10">Labels</span>
                </li>

              </ul>
            </div>

        </nav>
      </header>


      <h3>Work in progress</h3>

      This is what the <u>Browse List</u> will look like.<br>
      <div id="example" class="demo"></div>

      <h3>Notes/Open Questions on the GUI</h3>
    <p>What does the UI look like?

Kinds of things it should show:
    <ol>
<li>) a browseable listing of the whole directory tree, just text
<li>) a display of the results of a search. Search can be from a combination of 0 or more labels and directory path or
   directory tree. This result will have the previews inserted into it.
<li>) a click on a file item from the browsable tree or from the search results should either open the file in a new
   browser tab or an external tool.
   </ol>

    So, the browseable tree can be a transient GUI feature, click a button and the tree is shown. Make a selection from
the tree and it goes away. Also needs a closer. Each item is a hyperlink. File hyperlinks open the file,
but directory hyperlinks do a search on that directory.

    <pre>Up top: [Browse List]   Search Parameters: dir / tree, directory: [txt box]  labels: [txt box]  [run search]</pre>

Text boxes show the current items. May be populated from a browseable selection or typed into the box, with completion.
With the labels box: you can type with completion for a comma delimited list or pull up a list (with current
labels already selected.

Also need an add label pop-up. Choice to lable selected or all items. Maybe we select from a little checkbox by each
item. Do selection before accessing the label pop-up.

    <h4>Open questions</h4>
1) show should filesystem monitor communicate to the web server changes that are noticed?
<br>2) how should the web GUI indicate changes?
<br>and more

    <hr>
    </div>

      <script src="/static_files/js/jquery-3.3.1.js"></script>
      <script src="/static_files/js/popper.min.js"></script>
      <script src="/static_files/js/bootstrap.min.js"></script>
      <script src="/static_files/js/jstree/jstree.min.js"></script>


      <script>
        var tree_dir_state = 'dir';

        function toggle_tree_dir() {
            var toggle_tree = jQuery('#toggle-tree');
            var toggle_dir  = jQuery('#toggle-dir');

            if (tree_dir_state == 'dir') {
                tree_dir_state = 'tree';
                toggle_tree.removeClass('toggle-red');
                toggle_tree.addClass('toggle-green');
                toggle_dir.removeClass('toggle-green');
                toggle_dir.addClass('toggle-red');
            } else {
                tree_dir_state = 'dir';
                toggle_tree.removeClass('toggle-green');
                toggle_tree.addClass('toggle-red');
                toggle_dir.removeClass('toggle-red');
                toggle_dir.addClass('toggle-green');
            }
        }


        /*
          "checkbox": { "keep_selected_style": false },
          "plugins" : ["checkbox"],
        */

        var tree_structure = {
          "core" : {
            "data" : [{
                "text" : "Root node",
                "state" : { "opened" : true },
                "children" : [
                    {"text": "File.1", "icon" : "jstree-file"},
                    {"text": "Dir.2",
                        "children": [
                            {"text": "Dir.3"},
                            {"text": "File.4", "icon" : "jstree-file"}
                        ]
                    }]
            }]
          }
        }

        jQuery('#example').jstree(tree_structure);



        /*
        function clearMenu() {
          menu_link = menu_state + 'link';
          document.getElementById(menu_state).style = 'display:none';
          var classparts = document.getElementById(menu_link).classList;
          classparts.remove('active');
          document.getElementById(menu_link).classList = classparts;
        }

        function setMenu(new_state) {
          menu_link = new_state + 'link';
          document.getElementById(new_state).style = 'display';
          classparts = document.getElementById(menu_link).classList;
          classparts.add('active');
          classparts = document.getElementById(
            menu_link
          ).classList = classparts;
          menu_state = new_state;
        }

        function showServices() {
          clearMenu();
          setMenu('services');
        }

        function showAboutme() {
          clearMenu();
          setMenu('aboutme');
        }
        function showContact() {
          clearMenu();
          setMenu('contact');
        }
        function showLocation() {
          clearMenu();
          setMenu('location');
        }
        */
      </script>

</body>
</html>